(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{120:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(38),s=n.n(r),o=(n(120),n(210)),i=n(214),l=n(213),j=n(55),u=n(98),d=n(209),h=n(121).create();function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"get",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;Object.assign(c,h.defaults.params);var r=Object.assign({method:e,url:t,data:n,params:c},a),s=h(r);return s.catch((function(e){var t=e.response&&e.response.data.error;if(!t||"Invalid Access Token"!==t.message)return e;window.location.reload()})),s.then((function(e){return e.data}))}h.defaults.baseURL="http://localhost:3000/api";var p="Users",O="Goals",g="Steps",x={users:{login:function(e,t,n){return b("post","/".concat(p,"/login"),{email:e,password:t,captchaValue:n},{include:"User"})},logout:function(){return b("post","/".concat(p,"/logout"))}},setAuthToken:function(e){h.defaults.headers.common.Authorization=e},clearAuthData:function(){h.defaults.headers.common.Authorization=void 0,h.defaults.params={}},goals:{get:function(e){return b("get","/".concat(O),null,{filter:e})},getById:function(e,t){return b("get","/".concat(O,"/").concat(e),null,{filter:t})},create:function(e){return b("post","/".concat(O),e)},update:function(e,t){return b("patch","/".concat(O,"/").concat(e),t)},complete:function(e){return b("put","/".concat(O,"/").concat(e,"/complete"))},delete:function(e){return b("delete","/".concat(O,"/").concat(e))},createStep:function(e,t){return b("post","/".concat(O,"/").concat(e,"/steps"),t)},getNextSteps:function(){return b("get","/".concat(O,"/next-steps"))}},steps:{get:function(e){return b("get","/".concat(g),null,{filter:e})},getById:function(e,t){return b("get","/".concat(g,"/").concat(e),null,{filter:t})},create:function(e){return b("post","/".concat(g),e)},update:function(e,t){return b("patch","/".concat(g,"/").concat(e),t)},complete:function(e){return b("put","/".concat(g,"/").concat(e,"/complete"))},delete:function(e){return b("delete","/".concat(g,"/").concat(e))}}},m="GoalAchieverUser",f=function(){var e=localStorage.getItem(m);return e&&JSON.parse(e)}();f&&x.setAuthToken(f.id);var v={getUserData:function(){return f&&f.user},isLoggedIn:function(){return!!f},login:function(e,t){return x.users.login(e,t).then((function(e){return f=e,x.setAuthToken(e.id),localStorage.setItem(m,JSON.stringify(e)),f}))},logout:function(){return f=null,localStorage.removeItem(m),x.users.logout().finally((function(){x.clearAuthData()}))},hasToken:function(){return!!f}},D=n(1),S=["component"],w=function(e){var t=e.component,n=Object(u.a)(e,S);n.properties=n.properties||{};return Object(D.jsx)(l.a,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return v.isLoggedIn()?Object(D.jsx)(t,Object(j.a)(Object(j.a)({},e),n.properties)):Object(D.jsx)(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},C=n(203),y=n(13),I=n(218),k=n(217),N=n(220),L=n(222),F=n(211),A=n(221),G=n(100),T=n.n(G);function B(e){return Object(D.jsx)(k.a,{sx:{flexGrow:1},children:Object(D.jsx)(I.a,{position:"static",children:Object(D.jsxs)(N.a,{children:[Object(D.jsx)(A.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:e.toggleDrawer(!0),children:Object(D.jsx)(T.a,{})}),Object(D.jsx)(L.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Goal Achiever"}),Object(D.jsx)(F.a,{color:"inherit",onClick:function(){return v.logout().then((function(){window.location.href="../"}))},children:"Logout"})]})})})}var P=n(212),U=n(223),E=n(207),J=n(224),z=n(201),H=[{text:"Homepage",path:"/"},{text:"Goal List",path:"/goals"},{text:"Create Goal",path:"/create"}];function R(e){return Object(D.jsx)(P.a,{anchor:"left",open:e.isOpen,onClose:e.toggleDrawer(!1),children:Object(D.jsx)(k.a,{sx:250,role:"presentation",onClick:e.toggleDrawer(!1),onKeyDown:e.toggleDrawer(!1),children:Object(D.jsx)(U.a,{children:H.map((function(e){return Object(D.jsx)(z.a,{to:e.path,onClick:function(e){return e.stopPropagation()},children:Object(D.jsx)(E.a,{button:!0,children:Object(D.jsx)(J.a,{primary:e.text})})},"sidebar-link-".concat(e.text))}))})})})}var V=n(202),K=n(219),M=n(225),q=(n(150),function(){var e=Object(c.useState)(null),t=Object(y.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){n||x.goals.get({include:"steps"}).then(a)})),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h1",{children:"Homepage"}),Object(D.jsx)(V.a,{direction:"row",justifyContent:"center",alignItems:"stretch",spacing:4,children:n?Object(D.jsxs)(D.Fragment,{children:[n.map((function(e){var t=new Date(e.dueDate);return Object(D.jsxs)(K.a,{className:"next-step",elevation:6,children:[Object(D.jsxs)("h4",{children:["Name: ",e.name]}),Object(D.jsxs)("p",{children:["Status: ",e.completed?"Completed":"Incomplete"]}),Object(D.jsxs)("p",{children:["Due date: ",t.toLocaleDateString("en-il")]}),Object(D.jsxs)("p",{children:["Description: ",e.description]}),e.steps[0]?Object(D.jsxs)("p",{children:["First Step: ",e.steps[0].name,", ",e.steps[0].description]}):null]})})),n.length?null:Object(D.jsx)("h2",{children:"No goals"})]}):Object(D.jsx)(M.a,{})})]})}),Q=n(215),W=(n(151),function(e){var t=Object(c.useState)(null),n=Object(y.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){a||x.goals.get().then(r)})),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h1",{children:"Goal List"}),Object(D.jsx)(V.a,{direction:"column",justifyContent:"flex-start",alignItems:"strech",spacing:4,children:a?Object(D.jsxs)(D.Fragment,{children:[a.map((function(t){var n=new Date(t.dueDate);return Object(D.jsxs)(Q.a,{className:"goal-item",children:[Object(D.jsxs)("h4",{children:["Name: ",t.name]}),Object(D.jsxs)("p",{children:["Status: ",t.completed?"Completed":"Incomplete"]}),Object(D.jsxs)("p",{children:["Due date: ",n.toLocaleDateString("en-il")]}),Object(D.jsxs)("p",{children:["Description: ",t.description]}),Object(D.jsx)(z.a,{to:"".concat(e.match.path,"/").concat(t.id),children:Object(D.jsx)(F.a,{variant:"contained",children:"View"})})]})})),a.length?null:Object(D.jsx)("h2",{children:"No goals"})]}):Object(D.jsx)(M.a,{})})]})}),X=n(216),Y=function(e){var t=Object(c.useState)(null),n=Object(y.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){a||x.goals.getById(e.match.params.goalId,{include:"steps"}).then(r)})),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h1",{children:"Goal"}),Object(D.jsx)(Q.a,{className:"goal-card",children:a?Object(D.jsxs)(X.a,{children:[Object(D.jsxs)("h2",{children:["Name: ",a.name]}),Object(D.jsxs)("p",{children:["Status: ",a.completed?"Completed":"Incomplete"]}),Object(D.jsxs)("p",{children:["Due date: ",new Date(a.dueDate).toLocaleDateString("en-il")]}),Object(D.jsxs)("p",{children:["Description: ",a.description]})]}):Object(D.jsx)(M.a,{})}),a?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h1",{children:"Steps"}),a.steps.length?null:Object(D.jsx)("h3",{children:"No steps"}),Object(D.jsx)(V.a,{direction:"column",justifyContent:"flex-start",alignItems:"strech",spacing:2,children:a.steps.map((function(e){return Object(D.jsxs)(Q.a,{children:[Object(D.jsxs)("h3",{children:["Name: ",e.name]}),Object(D.jsxs)("p",{children:["Status: ",e.completed?"Completed":"Incomplete"]}),Object(D.jsxs)("p",{children:["Due date: ",new Date(e.dueDate).toLocaleDateString("en-il")]}),Object(D.jsxs)("p",{children:["Description: ",e.description]})]},"step-".concat(e.id))}))})]}):null]})},Z=function(e){return Object(D.jsxs)(i.a,{children:[Object(D.jsx)(l.a,{path:"".concat(e.match.path,"/:goalId"),exact:!0,component:Y}),Object(D.jsx)(l.a,{path:"",exact:!0,component:W})]})},$=n(15),_=n(204),ee=function(e){var t=Object(c.useState)(!1),n=Object(y.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),o=Object(y.a)(s,2),i=o[0],l=o[1],j=Object(c.useState)(null),u=Object(y.a)(j,2),d=u[0],h=u[1],b=Object(c.useState)(""),p=Object(y.a)(b,2),O=p[0],g=p[1],m=Object(c.useState)([]),f=Object(y.a)(m,2),v=f[0],S=f[1],w=Object(c.useState)(""),C=Object(y.a)(w,2),I=C[0],k=C[1],N=function(e,t,n){var c=Object($.a)(v);c[e][t]=n,S(c)};return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h1",{children:"Create a Goal!"}),Object(D.jsx)("h2",{children:I}),Object(D.jsx)(Q.a,{className:"goal-card",children:Object(D.jsx)(X.a,{children:Object(D.jsxs)(V.a,{spacing:2,children:[Object(D.jsxs)("div",{children:["Name: ",Object(D.jsx)(_.a,{placeholder:"name",disabled:a,onChange:function(e){return l(e.target.value)}})]}),Object(D.jsxs)("div",{children:["Due date: ",Object(D.jsx)("input",{type:"date",disabled:a,onChange:function(e){return h(e.target.value)}})]}),Object(D.jsxs)("div",{children:["Description: ",Object(D.jsx)(_.a,{placeholder:"description",disabled:a,onChange:function(e){return g(e.target.value)}})]})]})})}),Object(D.jsx)("h2",{children:"Steps"}),Object(D.jsx)(V.a,{spacing:2,children:v.map((function(e,t){return Object(D.jsx)(Q.a,{children:Object(D.jsxs)(X.a,{children:[Object(D.jsxs)(V.a,{spacing:2,children:[Object(D.jsxs)("div",{children:["Name: ",Object(D.jsx)(_.a,{placeholder:"name",disabled:a,onChange:function(e){return N(t,"name",e.target.value)}})]}),Object(D.jsxs)("div",{children:["Due date: ",Object(D.jsx)("input",{type:"date",disabled:a,onChange:function(e){return N(t,"dueDate",e.target.value)}})]}),Object(D.jsxs)("div",{children:["Description: ",Object(D.jsx)(_.a,{placeholder:"description",disabled:a,onChange:function(e){return N(t,"description",e.target.value)}})]})]}),Object(D.jsx)("br",{}),Object(D.jsx)(F.a,{variant:"contained",color:"warning",onClick:function(){return function(e){var t=Object($.a)(v);t.splice(e,1),S(t)}(t)},disabled:a,children:"Remove"})]})},"new-step-".concat(t))}))}),Object(D.jsx)("br",{}),Object(D.jsxs)(V.a,{direction:"column",justifyContent:"center",alignItems:"center",spacing:2,children:[Object(D.jsx)(F.a,{variant:"contained",color:"secondary",onClick:function(){var e=Object($.a)(v);e.push({name:"",dueDate:null,description:""}),S(e)},disabled:a,children:"Add Step"}),Object(D.jsx)(F.a,{variant:"contained",disabled:a,onClick:function(){r(!0),x.goals.create({name:i,dueDate:d,description:O}).then((function(e){return Promise.all(v.map((function(t){return x.goals.createStep(e.id,t)})))})).then((function(){e.history.push("/goals")})).catch((function(){k("Something went wrong..."),r(!1)}))},children:a?Object(D.jsx)(M.a,{}):"Submit"})]}),Object(D.jsx)("br",{})]})};var te=function(){var e=a.a.useState(!1),t=Object(y.a)(e,2),n=t[0],c=t[1],r=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&c(e)}};return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(B,{toggleDrawer:r}),Object(D.jsx)(R,{isOpen:n,toggleDrawer:r}),Object(D.jsxs)(i.a,{children:[Object(D.jsx)(l.a,{path:"/goals",component:Z},"goal-list"),Object(D.jsx)(l.a,{path:"/create",component:ee},"create"),Object(D.jsx)(l.a,{path:"/",component:q},"homepage")]})]})};n(153);var ne=function(e){var t=Object(c.useState)({email:"user@goal-achiever.com",password:"Aa123456",redirect:!1}),n=Object(y.a)(t,2),a=n[0],r=n[1],s=(e.location.state||{from:{pathname:"/"}}).from;return Object(D.jsxs)(Q.a,{className:"login-card",children:[a.redirect||v.isLoggedIn()?Object(D.jsx)(d.a,{to:s}):null,Object(D.jsx)(X.a,{children:Object(D.jsx)("form",{name:"loginform",id:"loginform",onSubmit:function(e){e.preventDefault(),v.login(a.email,a.password).then((function(){return r({redirect:!0})}))},children:Object(D.jsxs)(V.a,{spacing:2,children:[Object(D.jsx)("h2",{children:"Login"}),Object(D.jsx)(_.a,{id:"email",name:"email",value:a.email}),Object(D.jsx)(_.a,{type:"password",id:"password",name:"password",value:a.password}),Object(D.jsx)(F.a,{variant:"contained",type:"submit",children:"Login"})]})})})]})};n(154);var ce=function(){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(C.a,{}),Object(D.jsx)("div",{className:"App",children:Object(D.jsx)(o.a,{children:Object(D.jsxs)(i.a,{children:[Object(D.jsx)(l.a,{exact:!0,path:"/login",name:"Login Page",component:ne}),Object(D.jsx)(w,{path:"/",component:te})]})})})]})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,227)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(ce,{})}),document.getElementById("root")),ae()}},[[155,1,2]]]);
//# sourceMappingURL=main.3905131f.chunk.js.map